<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Demographics - Dr Fizz</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:#0d0d0d;
      --muted:#ffffff;
      --accent:#f59e0b;
      --accent-2:#ffb86b;
      --text:#ffffff;
    }
    html, body {
      height:100%; margin:0;
      background:var(--bg);
      font-family:Montserrat,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
      color:var(--text);
      -webkit-font-smoothing:antialiased;
    }
    body::before {
      content:"";
      position:fixed; inset:0; z-index:0;
      background-image:radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size:26px 26px;
      pointer-events:none;
    }
    section#pin {
      position:relative;
      z-index:1;
      height:100vh;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      overflow:visible;
    }
    .container {
      width:100%;
      max-width:1200px;
      margin:0 auto;
      padding:48px 36px;
      display:grid;
      grid-template-rows: auto 1fr;
      gap:18px;
      height: 100%;
    }
    .title-row {
      display:flex;
      align-items:flex-start;
      gap:12px;
    }
    .title {
      font-size:56px;
      font-weight:800;
      margin:0;
      letter-spacing:1px;
      padding-left: 50px;
    }
    .title .accent {
      color:var(--accent);
      margin-left:12px;
      font-weight:800;
    }
    .content-row {
      display:grid;
      grid-template-columns:92px 450px 1fr;
      align-items: stretch;  
      height: 100%;
    }
    .left {
      position:relative;
      height: 450px;
      padding-top:20px;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding-left: 20px;
    }
    .track {
      width:8px;
      height:86%;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border-radius:8px;
      position:relative;
      overflow:visible;
    }
    .fill {
      position:absolute;
      left:0; top:0;
      width:100%;
      height:0%;
      background:linear-gradient(180deg,var(--accent),var(--accent-2));
      border-radius:8px;
      box-shadow:0 4px 14px rgba(245,158,11,0.12);
      transform-origin:top center;
    }
    .list {
      margin-top:25px;
      display:flex;
      flex-direction:column;
      gap:50px;
    }
    .item {
      padding-left:6px;
    }
    .heading {
      margin:0;
      font-size:25px;
      font-weight:700;
      opacity:0.5;
      transform:translateY(6px);
      will-change:opacity,transform;
    }
    .sub {
      margin:6px 0 0 0;
      font-size:15px;
      color:var(--muted);
      opacity:0.35;
      transform:translateY(6px);
      will-change:opacity,transform;
    }
    .right {
      width: 100%;
      height: 100%;
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--muted);
      font-weight:700;
      padding:16px;
      position: relative;
      overflow: hidden;
    }

    /* Circle animation styles */
    .circle-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    svg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60vmin;
      height: 60vmin;
    }
    circle.base {
      stroke: #333;
      fill: none;
      stroke-width: 1;
    }
    circle.overlay {
      stroke: url(#paint1);
      fill: none;
      stroke-width: 1;
      opacity: 0;
    }
    .step-icon {
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translate(-50%, 0%);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #FE9708, #FE9708 70%);
      z-index: 1;
      transition: all 0.4s ease;
    }
    .step-icon.glow {
      background: radial-gradient(circle at 30% 30%, #FFD700, #FE9708 70%);
      box-shadow:
        0 0 20px 5px rgba(255, 151, 8, 0.5),
        0 0 40px 10px rgba(255, 151, 8, 0.4),
        0 0 80px 20px rgba(255, 151, 8, 0.3);
      animation: pulse-glow 2.5s ease-in-out infinite;
    }

    @media (max-width:1000px) {
      .content-row { grid-template-columns:64px 1fr; }
      .right { display:none; }
      .title { font-size:40px; }
    }
  </style>
</head>
<body>

<section id="pin">
  <div class="container">
    <div class="title-row">
      <h1 class="title">PERFECT <span class="accent">FOR</span></h1>
    </div>

    <div class="content-row">
      <div class="left">
        <div class="track" id="track">
          <div class="fill" id="fill"></div>
        </div>
      </div>

      <div class="center">
        <div class="list" id="list">
          <div class="item">
            <h3 class="heading">Founders &amp; D2C Brands</h3>
            <p class="sub">Grow Inbound Leads On A Budget</p>
          </div>
          <div class="item">
            <h3 class="heading">Digital Agencies</h3>
            <p class="sub">Replace 3â€“4 Expensive Tools With One Platform</p>
          </div>
          <div class="item">
            <h3 class="heading">Freelancers &amp; Consultants</h3>
            <p class="sub">Deliver Faster, Data-Driven Results</p>
          </div>
          <div class="item">
            <h3 class="heading">In-House Marketers</h3>
            <p class="sub">Streamline Content, Backlinks &amp; Reporting</p>
          </div>
        </div>
      </div>

      <div class="right">
        <!-- Circle animation (Stage 1 only) -->
        <div class="circle-container">
          <div class="step-icon"></div>
          <svg viewBox="0 0 400 400">
            <defs>
              <linearGradient id="paint1" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#F2F2F2" />
                <stop offset="100%" stop-color="#FE9708" />
              </linearGradient>
            </defs>
            <circle class="base" cx="200" cy="50" r="50" />
            <circle class="overlay overlay-4" cx="200" cy="50" r="50" />
            <circle class="base" cx="200" cy="90" r="90" />
            <circle class="overlay overlay-3" cx="200" cy="90" r="90" />
            <circle class="base" cx="200" cy="140" r="140" />
            <circle class="overlay overlay-2" cx="200" cy="140" r="140" />
            <circle class="base" cx="200" cy="190" r="190" />
            <circle class="overlay overlay-1" cx="200" cy="190" r="190" />
          </svg>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script>
  gsap.registerPlugin(ScrollTrigger);

  const fill = document.getElementById('fill');
  const items = document.querySelectorAll('.item');
  const right = document.querySelector('.right');

  const overlays = gsap.utils.toArray('.overlay').reverse();
  const stepIcon = document.querySelector('.step-icon');
  const smallestCircle = document.querySelector('.overlay-4');

  function circleTimeline() {
    const bbox = smallestCircle.getBoundingClientRect();
    const circleCenterY = bbox.top + bbox.height / 2;
    const iconBox = stepIcon.getBoundingClientRect();
    const iconStartY = iconBox.top + iconBox.height / 2;
    const deltaY = circleCenterY - iconStartY;

    let t = gsap.timeline();
    t.to(stepIcon, { y: deltaY, duration: 1, ease: "power2.out" });
    t.add("ball-settled");

    t.to(overlays[0], { opacity: 1, duration: 1 }, "ball-settled")
     .to(overlays[0], { opacity: 0, duration: 1 }, "-=0.2")
     .to(overlays[1], { opacity: 1, duration: 1 }, "-=0.3")
     .to(overlays[1], { opacity: 0, duration: 1 }, "-=0.2")
     .to(overlays[2], { opacity: 1, duration: 1 }, "-=0.3")
     .to(overlays[2], { opacity: 0, duration: 1 }, "-=0.2")
     .to(overlays[3], {
        opacity: 1,
        duration: 1,
        onStart: () => stepIcon.classList.add("glow"),
        onReverseComplete: () => stepIcon.classList.remove("glow")
     }, "-=0.3");

    return t;
  }

  let tl = gsap.timeline({
    scrollTrigger: {
      trigger: "#pin",
      start: "top top",
      end: "+=4000",
      scrub: true,
      pin: true
    }
  });

  items.forEach((item, i) => {
    let heading = item.querySelector('.heading');
    let sub = item.querySelector('.sub');
    let stage = "stage" + (i+1);

    tl.addLabel(stage);

    let percent = ((i+1) / items.length) * 100;
    tl.to(fill, { height: percent + "%", ease: "none" }, stage);

    tl.to(heading, { opacity: 1, y: 0, duration: 0.5 }, stage)
      .to(sub, { opacity: 0.85, y: 0, duration: 0.5 }, stage);

    if (i === 0) {
      // Run circle animation ONLY for Stage 1
      tl.add(circleTimeline(), stage);
    }
    if (i === 1) {
      tl.to(right, { backgroundColor: "#16a34a", rotation: 20, duration: 1, ease: "elastic.out(1,0.5)" }, stage);
    }
    if (i === 2) {
      tl.to(right, { backgroundColor: "#dc2626", x: 80, scale: 0.9, duration: 1 }, stage);
    }
    if (i === 3) {
      tl.to(right, { backgroundColor: "#9333ea", y: -60, rotation: -15, duration: 1 }, stage);
    }
  });
</script>
</body>
</html>
